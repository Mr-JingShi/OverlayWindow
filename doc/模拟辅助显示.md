# srccpy映射副屏

## 注意事项

支持Android 10及以上机型

## 手动或shell创建副屏

shell命令创建一块副屏

$settings put global overlay_display_devices "WxH/DENSITY"

shell命令创建多块副屏（最多6块）

$settings put global overlay_display_devices "WxH/DENSITY,secure;WxH/DENSITY,secure"

shell命令删除副屏

$settings put global overlay_display_devices "null"

$settings put global overlay_display_devices ""

$settings delete global overlay_display_devices

## scrcpy查看副屏displayid

$scrcpy --list-displays

```shell
scrcpy 2.4 <https://github.com/Genymobile/scrcpy>
INFO: ADB device found:
INFO:     -->   (usb)  HT6BG0200763                    device  AOSP_on_msm8996
/usr/local/Cellar/scrcpy/2.4/share/scrcpy/scrcpy-server: 1 file pushed, 0 skipped. 61.7 MB/s (69007 bytes in 0.001s)
[server] INFO: Device: [Google] Android AOSP on msm8996 (Android 10)
[server] INFO: List of displays:
--display-id=0    (2560x1440)
--display-id=14    (2392x1440)
```

## scrcpy映射副屏

$scrcpy --display-id=14

## 副屏弹出软键盘

部分手机无法弹出软键盘，可通过打开Android手机开发者模式中的“绘图-强制桌面模式“解决，或者使用电脑键盘代替。

shell命令也可打开、关闭强制桌面模式。

### 查看强制桌面模式

$settings get global force_desktop_mode_on_external_displays

### 打开强制桌面模式

$settings put global force_desktop_mode_on_external_displays 1

### 关闭强制桌面模式

$shell settings put global force_desktop_mode_on_external_displays 0

# scrcpy映射副屏存在的问题

scrcpy映射副屏方案能够解决大部分问题，但大部分电脑屏幕是非触摸屏，只可以用鼠标进行操作，鼠标只能模拟单指，无法模拟出双指、多指操组。且系统Overlay方式始终在主屏上有一个遮盖的叠加窗，这个叠加窗无法操作，更无法隐藏，因此在手机上开发一个可操作可隐藏的自定义悬浮窗迫在眉睫。
